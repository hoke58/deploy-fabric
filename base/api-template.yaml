version: '2'

networks:
  fabric:

services:
  api${NUM}:
    container_name: api${NUM}
    extends:
      file:  base/docker-compose-base.yaml
      service: api-base    
    volumes:
      - ${MOUNT_DATA}/api${NUM}:/opt/ApiServer/logs
    extra_hosts:
      orderer0.${ORDERER_DOMAIN}: ${ORDERER_IP}
      peer${NUM}.${PEER_DOMAIN}: ${PEER_IP}
      ${ENDORSE_PEER_ADDRESS}: ${ENDORSE_PEER_IP}
    networks:
      - fabric